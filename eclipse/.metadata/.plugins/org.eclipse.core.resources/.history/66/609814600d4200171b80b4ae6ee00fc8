package ru.stepan1404.daylies;

import java.io.File;
import java.io.IOException;

import cpw.mods.fml.common.event.FMLPreInitializationEvent;
import ru.stepan1404.daylies.events.LoginEvent;
import ru.stepan1404.daylies.utils.RewardBase;

public class ServerProxy extends CommonProxy {
	
	public void doSomething(FMLPreInitializationEvent e){
		File dayDir = new File(e.getModConfigurationDirectory() + "/daylies/");
		File dayLog = new File(e.getModConfigurationDirectory() + "/daylies/Daylies_Log.log");
		File rewards = new File(e.getModConfigurationDirectory() + "/daylies/rewards.cfg");
		if(!dayDir.exists()){
			dayDir.mkdirs();
		}
		if(!dayLog.exists()){
			try {
				dayLog.createNewFile();
			} catch (IOException e1) {
				e1.printStackTrace();
			}
		}
		if(!rewards.exists()){
			try {
				rewards.createNewFile();
			} catch (IOException e1) {
				e1.printStackTrace();
			}
		}
		Daylies.register(new LoginEvent(e));
		RewardBase.loadRewards(e);
	}

}
